{"ast":null,"code":"import _slicedToArray from \"/Users/zerrinekici/Desktop/adminlast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/zerrinekici/Desktop/adminlast/src/_metronic/_partials/pages/Login.js\";\n// import React from \"react\";\n// import { Col, Form, Button } from \"react-bootstrap\";\n// export function Login() {\n//   return (\n//     <>\n//       <Form>\n//         <Form.Group controlId=\"formBasicEmail\">\n//           <Form.Label>Email address</Form.Label>\n//           <Form.Control type=\"email\" placeholder=\"Enter email\" />\n//           <Form.Text className=\"text-muted\">\n//             We'll never share your email with anyone else.\n//           </Form.Text>\n//         </Form.Group>\n//         <Form.Group controlId=\"formBasicPassword\">\n//           <Form.Label>Password</Form.Label>\n//           <Form.Control type=\"password\" placeholder=\"Password\" />\n//         </Form.Group>\n//         <Form.Row>\n//         <Button variant=\"danger\" type=\"submit\">\n//           Sign in\n//         </Button>\n//         <Form.Group as={Col} controlId=\"formBasicChecbox\">\n//           <Form.Check type=\"checkbox\"  label=\"Remember me\" />\n//         </Form.Group>\n//     </Form.Row>\n//     <Form.Text className=\"text\">\n//      Don't have an account?\n//      Sign Up\n//           </Form.Text>\n//           <Form.Text className=\"text-danger\">\n//           Forgot your password?\n//           </Form.Text>\n//       </Form>\n//     </>\n//   );\n// }\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { connect } from \"react-redux\";\nimport { FormattedMessage, injectIntl } from \"react-intl\"; // import * as auth from \"../_redux/authRedux\";\n// import { login } from \"../_redux/authCrud\";\n\n/*\n  INTL (i18n) docs:\n  https://github.com/formatjs/react-intl/blob/master/docs/Components.md#formattedmessage\n*/\n\n/*\n  Formik+YUP:\n  https://jaredpalmer.com/formik/docs/tutorial#getfieldprops\n*/\n\nvar initialValues = {\n  email: \"admin@demo.com\",\n  password: \"demo\"\n};\nexport function Login(props) {\n  var intl = props.intl;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var LoginSchema = Yup.object().shape({\n    email: Yup.string().email(\"Wrong email format\").min(3, \"Minimum 3 symbols\").max(50, \"Maximum 50 symbols\").required(intl.formatMessage({\n      id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\n    })),\n    password: Yup.string().min(3, \"Minimum 3 symbols\").max(50, \"Maximum 50 symbols\").required(intl.formatMessage({\n      id: \"AUTH.VALIDATION.REQUIRED_FIELD\"\n    }))\n  });\n\n  var enableLoading = function enableLoading() {\n    setLoading(true);\n  };\n\n  var disableLoading = function disableLoading() {\n    setLoading(false);\n  };\n\n  var getInputClasses = function getInputClasses(fieldname) {\n    if (formik.touched[fieldname] && formik.errors[fieldname]) {\n      return \"is-invalid\";\n    }\n\n    if (formik.touched[fieldname] && !formik.errors[fieldname]) {\n      return \"is-valid\";\n    }\n\n    return \"\";\n  };\n\n  var formik = useFormik({\n    initialValues: initialValues,\n    validationSchema: LoginSchema,\n    onSubmit: function onSubmit(values, _ref) {\n      var setStatus = _ref.setStatus,\n          setSubmitting = _ref.setSubmitting;\n      enableLoading();\n      setTimeout(function () {\n        login(values.email, values.password).then(function (_ref2) {\n          var authToken = _ref2.data.authToken;\n          disableLoading();\n          props.login(authToken);\n        }).catch(function () {\n          setStatus(intl.formatMessage({\n            id: \"AUTH.VALIDATION.INVALID_LOGIN\"\n          }));\n        }).finally(function () {\n          disableLoading();\n          setSubmitting(false);\n        });\n      }, 1000);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form login-signin\",\n    id: \"kt_login_signin_form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mb-10 mb-lg-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-size-h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"AUTH.LOGIN.TITLE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, \"Enter your username and password\")), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formik.handleSubmit,\n    className: \"form fv-plugins-bootstrap fv-plugins-framework\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, formik.status ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-10 alert alert-custom alert-light-danger alert-dismissible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-text font-weight-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, formik.status)) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-10 alert alert-custom alert-light-info alert-dismissible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-text \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Use account \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 27\n    }\n  }, \"admin@demo.com\"), \" and password\", \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, \"demo\"), \" to continue.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group fv-plugins-icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    placeholder: \"Email\",\n    type: \"email\",\n    className: \"form-control form-control-solid h-auto py-5 px-6 \".concat(getInputClasses(\"email\")),\n    name: \"email\"\n  }, formik.getFieldProps(\"email\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  })), formik.touched.email && formik.errors.email ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-plugins-message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-help-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, formik.errors.email)) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group fv-plugins-icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    placeholder: \"Password\",\n    type: \"password\",\n    className: \"form-control form-control-solid h-auto py-5 px-6 \".concat(getInputClasses(\"password\")),\n    name: \"password\"\n  }, formik.getFieldProps(\"password\"), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  })), formik.touched.password && formik.errors.password ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-plugins-message-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fv-help-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, formik.errors.password)) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group d-flex flex-wrap justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/auth/forgot-password\",\n    className: \"text-dark-50 text-hover-primary my-3 mr-2\",\n    id: \"kt_login_forgot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"AUTH.GENERAL.FORGOT_BUTTON\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"kt_login_signin_submit\",\n    type: \"submit\",\n    disabled: formik.isSubmitting,\n    className: \"btn btn-primary font-weight-bold px-9 py-4 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"Sign In\"), loading && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-3 spinner spinner-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 25\n    }\n  })))));\n}\nexport default injectIntl(connect(null, auth.actions)(Login));","map":{"version":3,"sources":["/Users/zerrinekici/Desktop/adminlast/src/_metronic/_partials/pages/Login.js"],"names":["React","useState","Link","useFormik","Yup","connect","FormattedMessage","injectIntl","initialValues","email","password","Login","props","intl","loading","setLoading","LoginSchema","object","shape","string","min","max","required","formatMessage","id","enableLoading","disableLoading","getInputClasses","fieldname","formik","touched","errors","validationSchema","onSubmit","values","setStatus","setSubmitting","setTimeout","login","then","authToken","data","catch","finally","handleSubmit","status","getFieldProps","isSubmitting","auth","actions"],"mappings":"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","sourcesContent":["// import React from \"react\";\n// import { Col, Form, Button } from \"react-bootstrap\";\n// export function Login() {\n//   return (\n//     <>\n//       <Form>\n//         <Form.Group controlId=\"formBasicEmail\">\n//           <Form.Label>Email address</Form.Label>\n//           <Form.Control type=\"email\" placeholder=\"Enter email\" />\n//           <Form.Text className=\"text-muted\">\n//             We'll never share your email with anyone else.\n//           </Form.Text>\n//         </Form.Group>\n\n//         <Form.Group controlId=\"formBasicPassword\">\n//           <Form.Label>Password</Form.Label>\n//           <Form.Control type=\"password\" placeholder=\"Password\" />\n//         </Form.Group>\n//         <Form.Row>\n//         <Button variant=\"danger\" type=\"submit\">\n//           Sign in\n//         </Button>\n//         <Form.Group as={Col} controlId=\"formBasicChecbox\">\n//           <Form.Check type=\"checkbox\"  label=\"Remember me\" />\n//         </Form.Group>\n//     </Form.Row>\n\n//     <Form.Text className=\"text\">\n//      Don't have an account?\n//      Sign Up\n//           </Form.Text>\n//           <Form.Text className=\"text-danger\">\n//           Forgot your password?\n//           </Form.Text>\n//       </Form>\n//     </>\n//   );\n// }\n\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { connect } from \"react-redux\";\nimport { FormattedMessage, injectIntl } from \"react-intl\";\n// import * as auth from \"../_redux/authRedux\";\n// import { login } from \"../_redux/authCrud\";\n\n/*\n  INTL (i18n) docs:\n  https://github.com/formatjs/react-intl/blob/master/docs/Components.md#formattedmessage\n*/\n\n/*\n  Formik+YUP:\n  https://jaredpalmer.com/formik/docs/tutorial#getfieldprops\n*/\n\nconst initialValues = {\n  email: \"admin@demo.com\",\n  password: \"demo\",\n};\n\nexport function Login(props) {\n  const { intl } = props;\n  const [loading, setLoading] = useState(false);\n  const LoginSchema = Yup.object().shape({\n    email: Yup.string()\n      .email(\"Wrong email format\")\n      .min(3, \"Minimum 3 symbols\")\n      .max(50, \"Maximum 50 symbols\")\n      .required(\n        intl.formatMessage({\n          id: \"AUTH.VALIDATION.REQUIRED_FIELD\",\n        })\n      ),\n    password: Yup.string()\n      .min(3, \"Minimum 3 symbols\")\n      .max(50, \"Maximum 50 symbols\")\n      .required(\n        intl.formatMessage({\n          id: \"AUTH.VALIDATION.REQUIRED_FIELD\",\n        })\n      ),\n  });\n\n  const enableLoading = () => {\n    setLoading(true);\n  };\n\n  const disableLoading = () => {\n    setLoading(false);\n  };\n\n  const getInputClasses = (fieldname) => {\n    if (formik.touched[fieldname] && formik.errors[fieldname]) {\n      return \"is-invalid\";\n    }\n\n    if (formik.touched[fieldname] && !formik.errors[fieldname]) {\n      return \"is-valid\";\n    }\n\n    return \"\";\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validationSchema: LoginSchema,\n    onSubmit: (values, { setStatus, setSubmitting }) => {\n      enableLoading();\n      setTimeout(() => {\n        login(values.email, values.password)\n          .then(({ data: { authToken } }) => {\n            disableLoading();\n\n            props.login(authToken);\n          })\n          .catch(() => {\n            setStatus(\n              intl.formatMessage({\n                id: \"AUTH.VALIDATION.INVALID_LOGIN\",\n              })\n            );\n          })\n          .finally(() => {\n            disableLoading();\n            setSubmitting(false);\n          });\n      }, 1000);\n    },\n  });\n\n  return (\n    <div className=\"login-form login-signin\" id=\"kt_login_signin_form\">\n      {/* begin::Head */}\n      <div className=\"text-center mb-10 mb-lg-20\">\n        <h3 className=\"font-size-h1\">\n          <FormattedMessage id=\"AUTH.LOGIN.TITLE\" />\n        </h3>\n        <p className=\"text-muted font-weight-bold\">\n          Enter your username and password\n        </p>\n      </div>\n      {/* end::Head */}\n\n      {/*begin::Form*/}\n      <form\n        onSubmit={formik.handleSubmit}\n        className=\"form fv-plugins-bootstrap fv-plugins-framework\"\n      >\n        {formik.status ? (\n          <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\n            <div className=\"alert-text font-weight-bold\">{formik.status}</div>\n          </div>\n        ) : (\n          <div className=\"mb-10 alert alert-custom alert-light-info alert-dismissible\">\n            <div className=\"alert-text \">\n              Use account <strong>admin@demo.com</strong> and password{\" \"}\n              <strong>demo</strong> to continue.\n            </div>\n          </div>\n        )}\n\n        <div className=\"form-group fv-plugins-icon-container\">\n          <input\n            placeholder=\"Email\"\n            type=\"email\"\n            className={`form-control form-control-solid h-auto py-5 px-6 ${getInputClasses(\n              \"email\"\n            )}`}\n            name=\"email\"\n            {...formik.getFieldProps(\"email\")}\n          />\n          {formik.touched.email && formik.errors.email ? (\n            <div className=\"fv-plugins-message-container\">\n              <div className=\"fv-help-block\">{formik.errors.email}</div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"form-group fv-plugins-icon-container\">\n          <input\n            placeholder=\"Password\"\n            type=\"password\"\n            className={`form-control form-control-solid h-auto py-5 px-6 ${getInputClasses(\n              \"password\"\n            )}`}\n            name=\"password\"\n            {...formik.getFieldProps(\"password\")}\n          />\n          {formik.touched.password && formik.errors.password ? (\n            <div className=\"fv-plugins-message-container\">\n              <div className=\"fv-help-block\">{formik.errors.password}</div>\n            </div>\n          ) : null}\n        </div>\n        <div className=\"form-group d-flex flex-wrap justify-content-between align-items-center\">\n          <Link\n            to=\"/auth/forgot-password\"\n            className=\"text-dark-50 text-hover-primary my-3 mr-2\"\n            id=\"kt_login_forgot\"\n          >\n            <FormattedMessage id=\"AUTH.GENERAL.FORGOT_BUTTON\" />\n          </Link>\n          <button\n            id=\"kt_login_signin_submit\"\n            type=\"submit\"\n            disabled={formik.isSubmitting}\n            className={`btn btn-primary font-weight-bold px-9 py-4 my-3`}\n          >\n            <span>Sign In</span>\n            {loading && <span className=\"ml-3 spinner spinner-white\"></span>}\n          </button>\n        </div>\n      </form>\n      {/*end::Form*/}\n    </div>\n  );\n}\n\nexport default injectIntl(connect(null, auth.actions)(Login));\n"]},"metadata":{},"sourceType":"module"}