{"ast":null,"code":"import _slicedToArray from \"/Users/zerrinekici/Desktop/adminlast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/zerrinekici/Desktop/adminlast/src/app/modules/ECommerce/pages/products/product-edit/ProductEdit.js\";\n\n/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,jsx-a11y/role-supports-aria-props */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport * as actions from \"../../../_redux/products/productsActions\";\nimport { Card, CardBody, CardHeader, CardHeaderToolbar } from \"../../../../../../_metronic/_partials/controls\";\nimport { ProductEditForm } from \"./ProductEditForm\";\nimport { Specifications } from \"../product-specifications/Specifications\";\nimport { SpecificationsUIProvider } from \"../product-specifications/SpecificationsUIContext\";\nimport { useSubheader } from \"../../../../../../_metronic/layout\";\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\nimport { RemarksUIProvider } from \"../product-remarks/RemarksUIContext\";\nimport { Remarks } from \"../product-remarks/Remarks\";\nvar initProduct = {\n  id: undefined,\n  model: \"\",\n  manufacture: \"Pontiac\",\n  modelYear: 2020,\n  mileage: 0,\n  description: \"\",\n  color: \"Red\",\n  price: 10000,\n  condition: 1,\n  status: 0,\n  VINCode: \"\"\n};\nexport function ProductEdit(_ref) {\n  var history = _ref.history,\n      id = _ref.match.params.id;\n  // Subheader\n  var suhbeader = useSubheader(); // Tabs\n\n  var _useState = useState(\"basic\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      tab = _useState2[0],\n      setTab = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      title = _useState4[0],\n      setTitle = _useState4[1];\n\n  var dispatch = useDispatch(); // const layoutDispatch = useContext(LayoutContext.Dispatch);\n\n  var _useSelector = useSelector(function (state) {\n    return {\n      actionsLoading: state.products.actionsLoading,\n      productForEdit: state.products.productForEdit\n    };\n  }, shallowEqual),\n      actionsLoading = _useSelector.actionsLoading,\n      productForEdit = _useSelector.productForEdit;\n\n  useEffect(function () {\n    dispatch(actions.fetchProduct(id));\n  }, [id, dispatch]);\n  useEffect(function () {\n    var _title = id ? \"\" : \"New Product\";\n\n    if (productForEdit && id) {\n      _title = \"Edit product '\".concat(productForEdit.manufacture, \" \").concat(productForEdit.model, \" - \").concat(productForEdit.modelYear, \"'\");\n    }\n\n    setTitle(_title);\n    suhbeader.setTitle(_title); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [productForEdit, id]);\n\n  var saveProduct = function saveProduct(values) {\n    if (!id) {\n      dispatch(actions.createProduct(values)).then(function () {\n        return backToProductsList();\n      });\n    } else {\n      dispatch(actions.updateProduct(values)).then(function () {\n        return backToProductsList();\n      });\n    }\n  };\n\n  var btnRef = useRef();\n\n  var saveProductClick = function saveProductClick() {\n    if (btnRef && btnRef.current) {\n      btnRef.current.click();\n    }\n  };\n\n  var backToProductsList = function backToProductsList() {\n    history.push(\"/e-commerce/products\");\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, actionsLoading && /*#__PURE__*/React.createElement(ModalProgressBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(CardHeader, {\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeaderToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: backToProductsList,\n    className: \"btn btn-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-arrow-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }), \"Back\"), \"  \", /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-light ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-redo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), \"Reset\"), \"  \", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary ml-2\",\n    onClick: saveProductClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"Save\"))), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav nav-tabs nav-tabs-line \",\n    role: \"tablist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: function onClick() {\n      return setTab(\"basic\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"nav-link \".concat(tab === \"basic\" && \"active\"),\n    \"data-toggle\": \"tab\",\n    role: \"tab\",\n    \"aria-selected\": (tab === \"basic\").toString(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"Basic info\")), id && /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: function onClick() {\n      return setTab(\"remarks\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"nav-link \".concat(tab === \"remarks\" && \"active\"),\n    \"data-toggle\": \"tab\",\n    role: \"button\",\n    \"aria-selected\": (tab === \"remarks\").toString(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, \"Product remarks\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    onClick: function onClick() {\n      return setTab(\"specs\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"nav-link \".concat(tab === \"specs\" && \"active\"),\n    \"data-toggle\": \"tab\",\n    role: \"tab\",\n    \"aria-selected\": (tab === \"specs\").toString(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"Product specifications\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, tab === \"basic\" && /*#__PURE__*/React.createElement(ProductEditForm, {\n    actionsLoading: actionsLoading,\n    product: productForEdit || initProduct,\n    btnRef: btnRef,\n    saveProduct: saveProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }), tab === \"remarks\" && id && /*#__PURE__*/React.createElement(RemarksUIProvider, {\n    currentProductId: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Remarks, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  })), tab === \"specs\" && id && /*#__PURE__*/React.createElement(SpecificationsUIProvider, {\n    currentProductId: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Specifications, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/zerrinekici/Desktop/adminlast/src/app/modules/ECommerce/pages/products/product-edit/ProductEdit.js"],"names":["React","useEffect","useState","useRef","useDispatch","shallowEqual","useSelector","actions","Card","CardBody","CardHeader","CardHeaderToolbar","ProductEditForm","Specifications","SpecificationsUIProvider","useSubheader","ModalProgressBar","RemarksUIProvider","Remarks","initProduct","id","undefined","model","manufacture","modelYear","mileage","description","color","price","condition","status","VINCode","ProductEdit","history","match","params","suhbeader","tab","setTab","title","setTitle","dispatch","state","actionsLoading","products","productForEdit","fetchProduct","_title","saveProduct","values","createProduct","then","backToProductsList","updateProduct","btnRef","saveProductClick","current","click","push","toString"],"mappings":"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","sourcesContent":["/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,jsx-a11y/role-supports-aria-props */\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport * as actions from \"../../../_redux/products/productsActions\";\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  CardHeaderToolbar,\n} from \"../../../../../../_metronic/_partials/controls\";\nimport { ProductEditForm } from \"./ProductEditForm\";\nimport { Specifications } from \"../product-specifications/Specifications\";\nimport { SpecificationsUIProvider } from \"../product-specifications/SpecificationsUIContext\";\nimport { useSubheader } from \"../../../../../../_metronic/layout\";\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\nimport { RemarksUIProvider } from \"../product-remarks/RemarksUIContext\";\nimport { Remarks } from \"../product-remarks/Remarks\";\n\nconst initProduct = {\n  id: undefined,\n  model: \"\",\n  manufacture: \"Pontiac\",\n  modelYear: 2020,\n  mileage: 0,\n  description: \"\",\n  color: \"Red\",\n  price: 10000,\n  condition: 1,\n  status: 0,\n  VINCode: \"\",\n};\n\nexport function ProductEdit({\n  history,\n  match: {\n    params: { id },\n  },\n}) {\n  // Subheader\n  const suhbeader = useSubheader();\n\n  // Tabs\n  const [tab, setTab] = useState(\"basic\");\n  const [title, setTitle] = useState(\"\");\n  const dispatch = useDispatch();\n  // const layoutDispatch = useContext(LayoutContext.Dispatch);\n  const { actionsLoading, productForEdit } = useSelector(\n    (state) => ({\n      actionsLoading: state.products.actionsLoading,\n      productForEdit: state.products.productForEdit,\n    }),\n    shallowEqual\n  );\n\n  useEffect(() => {\n    dispatch(actions.fetchProduct(id));\n  }, [id, dispatch]);\n\n  useEffect(() => {\n    let _title = id ? \"\" : \"New Product\";\n    if (productForEdit && id) {\n      _title = `Edit product '${productForEdit.manufacture} ${productForEdit.model} - ${productForEdit.modelYear}'`;\n    }\n\n    setTitle(_title);\n    suhbeader.setTitle(_title);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [productForEdit, id]);\n\n  const saveProduct = (values) => {\n    if (!id) {\n      dispatch(actions.createProduct(values)).then(() => backToProductsList());\n    } else {\n      dispatch(actions.updateProduct(values)).then(() => backToProductsList());\n    }\n  };\n\n  const btnRef = useRef();  \n  const saveProductClick = () => {\n    if (btnRef && btnRef.current) {\n      btnRef.current.click();\n    }\n  };\n\n  const backToProductsList = () => {\n    history.push(`/e-commerce/products`);\n  };\n\n  return (\n    <Card>\n      {actionsLoading && <ModalProgressBar />}\n      <CardHeader title={title}>\n        <CardHeaderToolbar>\n          <button\n            type=\"button\"\n            onClick={backToProductsList}\n            className=\"btn btn-light\"\n          >\n            <i className=\"fa fa-arrow-left\"></i>\n            Back\n          </button>\n          {`  `}\n          <button className=\"btn btn-light ml-2\">\n            <i className=\"fa fa-redo\"></i>\n            Reset\n          </button>\n          {`  `}\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary ml-2\"\n            onClick={saveProductClick}\n          >\n            Save\n          </button>\n        </CardHeaderToolbar>\n      </CardHeader>\n      <CardBody>\n        <ul className=\"nav nav-tabs nav-tabs-line \" role=\"tablist\">\n          <li className=\"nav-item\" onClick={() => setTab(\"basic\")}>\n            <a\n              className={`nav-link ${tab === \"basic\" && \"active\"}`}\n              data-toggle=\"tab\"\n              role=\"tab\"\n              aria-selected={(tab === \"basic\").toString()}\n            >\n              Basic info\n            </a>\n          </li>\n          {id && (\n            <>\n              {\" \"}\n              <li className=\"nav-item\" onClick={() => setTab(\"remarks\")}>\n                <a\n                  className={`nav-link ${tab === \"remarks\" && \"active\"}`}\n                  data-toggle=\"tab\"\n                  role=\"button\"\n                  aria-selected={(tab === \"remarks\").toString()}\n                >\n                  Product remarks\n                </a>\n              </li>\n              <li className=\"nav-item\" onClick={() => setTab(\"specs\")}>\n                <a\n                  className={`nav-link ${tab === \"specs\" && \"active\"}`}\n                  data-toggle=\"tab\"\n                  role=\"tab\"\n                  aria-selected={(tab === \"specs\").toString()}\n                >\n                  Product specifications\n                </a>\n              </li>\n            </>\n          )}\n        </ul>\n        <div className=\"mt-5\">\n          {tab === \"basic\" && (\n            <ProductEditForm\n              actionsLoading={actionsLoading}\n              product={productForEdit || initProduct}\n              btnRef={btnRef}\n              saveProduct={saveProduct}\n            />\n          )}\n          {tab === \"remarks\" && id && (\n            <RemarksUIProvider currentProductId={id}>\n              <Remarks />\n            </RemarksUIProvider>\n          )}\n          {tab === \"specs\" && id && (\n            <SpecificationsUIProvider currentProductId={id}>\n              <Specifications />\n            </SpecificationsUIProvider>\n          )}\n        </div>\n      </CardBody>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}