{"ast":null,"code":"import _objectSpread from \"/Users/zerrinekici/Desktop/adminlast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/zerrinekici/Desktop/adminlast/src/app/modules/ECommerce/pages/customers/customers-filter/CustomersFilter.js\";\nimport React, { useMemo } from \"react\";\nimport { Formik } from \"formik\";\nimport { isEqual } from \"lodash\";\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\n\nvar prepareFilter = function prepareFilter(queryParams, values) {\n  var status = values.status,\n      type = values.type,\n      searchText = values.searchText;\n\n  var newQueryParams = _objectSpread({}, queryParams);\n\n  var filter = {}; // Filter by status\n\n  filter.status = status !== \"\" ? +status : undefined; // Filter by type\n\n  filter.type = type !== \"\" ? +type : undefined; // Filter by all fields\n\n  filter.lastName = searchText;\n\n  if (searchText) {\n    filter.firstName = searchText;\n    filter.email = searchText;\n    filter.ipAddress = searchText;\n  }\n\n  newQueryParams.filter = filter;\n  return newQueryParams;\n};\n\nexport function CustomersFilter(_ref) {\n  var _this = this;\n\n  var listLoading = _ref.listLoading;\n  // Customers UI Context\n  var customersUIContext = useCustomersUIContext();\n  var customersUIProps = useMemo(function () {\n    return {\n      queryParams: customersUIContext.queryParams,\n      setQueryParams: customersUIContext.setQueryParams\n    };\n  }, [customersUIContext]); // queryParams, setQueryParams,\n\n  var applyFilter = function applyFilter(values) {\n    var newQueryParams = prepareFilter(customersUIProps.queryParams, values);\n\n    if (!isEqual(newQueryParams, customersUIProps.queryParams)) {\n      newQueryParams.pageNumber = 1; // update list by queryParams\n\n      customersUIProps.setQueryParams(newQueryParams);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      status: \"\",\n      // values => All=\"\"/Susspended=0/Active=1/Pending=2\n      type: \"\",\n      // values => All=\"\"/Business=0/Individual=1\n      searchText: \"\"\n    },\n    onSubmit: function onSubmit(values) {\n      applyFilter(values);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, function (_ref2) {\n    var values = _ref2.values,\n        handleSubmit = _ref2.handleSubmit,\n        handleBlur = _ref2.handleBlur,\n        handleChange = _ref2.handleChange,\n        setFieldValue = _ref2.setFieldValue;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form form-label-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"status\",\n      placeholder: \"Filter by Status\" // TODO: Change this code\n      ,\n      onChange: function onChange(e) {\n        setFieldValue(\"status\", e.target.value);\n        handleSubmit();\n      },\n      onBlur: handleBlur,\n      value: values.status,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, \"All\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, \"Susspended\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, \"Active\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 19\n      }\n    }, \"Pending\")), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, \"Filter\"), \" by Status\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      placeholder: \"Filter by Type\",\n      name: \"type\",\n      onBlur: handleBlur,\n      onChange: function onChange(e) {\n        setFieldValue(\"type\", e.target.value);\n        handleSubmit();\n      },\n      value: values.type,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, \"All\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, \"Business\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 19\n      }\n    }, \"Individual\")), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }\n    }, \"Filter\"), \" by Type\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"searchText\",\n      placeholder: \"Search\",\n      onBlur: handleBlur,\n      value: values.searchText,\n      onChange: function onChange(e) {\n        setFieldValue(\"searchText\", e.target.value);\n        handleSubmit();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, \"Search\"), \" in all fields\"))));\n  }));\n}","map":{"version":3,"sources":["/Users/zerrinekici/Desktop/adminlast/src/app/modules/ECommerce/pages/customers/customers-filter/CustomersFilter.js"],"names":["React","useMemo","Formik","isEqual","useCustomersUIContext","prepareFilter","queryParams","values","status","type","searchText","newQueryParams","filter","undefined","lastName","firstName","email","ipAddress","CustomersFilter","listLoading","customersUIContext","customersUIProps","setQueryParams","applyFilter","pageNumber","handleSubmit","handleBlur","handleChange","setFieldValue","e","target","value"],"mappings":"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","sourcesContent":["import React, { useMemo } from \"react\";\nimport { Formik } from \"formik\";\nimport { isEqual } from \"lodash\";\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\n\nconst prepareFilter = (queryParams, values) => {\n  const { status, type, searchText } = values;\n  const newQueryParams = { ...queryParams };\n  const filter = {};\n  // Filter by status\n  filter.status = status !== \"\" ? +status : undefined;\n  // Filter by type\n  filter.type = type !== \"\" ? +type : undefined;\n  // Filter by all fields\n  filter.lastName = searchText;\n  if (searchText) {\n    filter.firstName = searchText;\n    filter.email = searchText;\n    filter.ipAddress = searchText;\n  }\n  newQueryParams.filter = filter;\n  return newQueryParams;\n};\n\nexport function CustomersFilter({ listLoading }) {\n  // Customers UI Context\n  const customersUIContext = useCustomersUIContext();\n  const customersUIProps = useMemo(() => {\n    return {\n      queryParams: customersUIContext.queryParams,\n      setQueryParams: customersUIContext.setQueryParams,\n    };\n  }, [customersUIContext]);\n\n  // queryParams, setQueryParams,\n  const applyFilter = (values) => {\n    const newQueryParams = prepareFilter(customersUIProps.queryParams, values);\n    if (!isEqual(newQueryParams, customersUIProps.queryParams)) {\n      newQueryParams.pageNumber = 1;\n      // update list by queryParams\n      customersUIProps.setQueryParams(newQueryParams);\n    }\n  };\n\n  return (\n    <>\n      <Formik\n        initialValues={{\n          status: \"\", // values => All=\"\"/Susspended=0/Active=1/Pending=2\n          type: \"\", // values => All=\"\"/Business=0/Individual=1\n          searchText: \"\",\n        }}\n        onSubmit={(values) => {\n          applyFilter(values);\n        }}\n      >\n        {({\n          values,\n          handleSubmit,\n          handleBlur,\n          handleChange,\n          setFieldValue,\n        }) => (\n          <form onSubmit={handleSubmit} className=\"form form-label-right\">\n            <div className=\"form-group row\">\n              <div className=\"col-lg-2\">\n                <select\n                  className=\"form-control\"\n                  name=\"status\"\n                  placeholder=\"Filter by Status\"\n                  // TODO: Change this code\n                  onChange={(e) => {\n                    setFieldValue(\"status\", e.target.value);\n                    handleSubmit();\n                  }}\n                  onBlur={handleBlur}\n                  value={values.status}\n                >\n                  <option value=\"\">All</option>\n                  <option value=\"0\">Susspended</option>\n                  <option value=\"1\">Active</option>\n                  <option value=\"2\">Pending</option>\n                </select>\n                <small className=\"form-text text-muted\">\n                  <b>Filter</b> by Status\n                </small>\n              </div>\n              <div className=\"col-lg-2\">\n                <select\n                  className=\"form-control\"\n                  placeholder=\"Filter by Type\"\n                  name=\"type\"\n                  onBlur={handleBlur}\n                  onChange={(e) => {\n                    setFieldValue(\"type\", e.target.value);\n                    handleSubmit();\n                  }}\n                  value={values.type}\n                >\n                  <option value=\"\">All</option>\n                  <option value=\"0\">Business</option>\n                  <option value=\"1\">Individual</option>\n                </select>\n                <small className=\"form-text text-muted\">\n                  <b>Filter</b> by Type\n                </small>\n              </div>\n              <div className=\"col-lg-2\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"searchText\"\n                  placeholder=\"Search\"\n                  onBlur={handleBlur}\n                  value={values.searchText}\n                  onChange={(e) => {\n                    setFieldValue(\"searchText\", e.target.value);\n                    handleSubmit();\n                  }}\n                />\n                <small className=\"form-text text-muted\">\n                  <b>Search</b> in all fields\n                </small>\n              </div>\n            </div>\n          </form>\n        )}\n      </Formik>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}