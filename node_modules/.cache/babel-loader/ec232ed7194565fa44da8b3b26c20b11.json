{"ast":null,"code":"import _slicedToArray from \"/Users/zerrinekici/Desktop/adminlast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/zerrinekici/Desktop/adminlast/src/_metronic/layout/components/extras/dropdowns/search/SearchDropdown.js\";\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport clsx from \"clsx\";\nimport { Dropdown, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport SVG from \"react-inlinesvg\";\nimport objectPath from \"object-path\";\nimport { useHtmlClassService } from \"../../../../_core/MetronicLayout\";\nimport { SearchResult } from \"./SearchResult\";\nimport { toAbsoluteUrl } from \"../../../../../_helpers\";\nimport { DropdownTopbarItemToggler } from \"../../../../../_partials/dropdowns\";\nvar fakeData = [{\n  type: 0,\n  text: \"Reports\"\n}, {\n  type: 1,\n  text: \"AirPlus Requirements\",\n  description: \"by Grog John\",\n  iconImage: toAbsoluteUrl(\"/media/files/doc.svg\")\n}, {\n  type: 1,\n  text: \"TechNav Documentation\",\n  description: \"by Mary Brown\",\n  iconImage: toAbsoluteUrl(\"/media/files/pdf.svg\")\n}, {\n  type: 1,\n  text: \"All Framework Docs\",\n  description: \"by Grog John\",\n  iconImage: toAbsoluteUrl(\"/media/files/zip.svg\")\n}, {\n  type: 1,\n  text: \"AirPlus Requirements\",\n  description: \"by Tim Hardy\",\n  iconImage: toAbsoluteUrl(\"/media/files/xml.svg\")\n}, {\n  text: \"Customers\",\n  type: 0\n}, {\n  type: 1,\n  text: \"Jimmy Curry\",\n  description: \"Software Developer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_11.jpg\")\n}, {\n  type: 1,\n  text: \"Milena Gibson\",\n  description: \"UI Designer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_16.jpg\")\n}, {\n  type: 1,\n  text: \"Stefan JohnStefan\",\n  description: \"Marketing Manager\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_22.jpg\")\n}, {\n  type: 1,\n  text: \"Anna Strong\",\n  description: \"Software Developer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_5.jpg\")\n}, {\n  type: 0,\n  text: \"Files\"\n}, {\n  type: 1,\n  text: \"2 New items submitted\",\n  description: \"Marketing Manager\",\n  iconClassName: \"flaticon2-box font-danger\"\n}, {\n  type: 1,\n  text: \"79 PSD files generated\",\n  description: \"by Grog John\",\n  iconClassName: \"flaticon-psd font-brand\"\n}, {\n  type: 1,\n  text: \"$2900 worth products sold\",\n  description: \"Total 234 items\",\n  iconClassName: \"flaticon2-supermarket font-warning\"\n}, {\n  type: 1,\n  text: \"4 New items submitted\",\n  description: \"Marketing Manager\",\n  iconClassName: \"flaticon-safe-shield-protection font-info\"\n}];\nexport function SearchDropdown() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchValue = _useState6[0],\n      setSearchValue = _useState6[1];\n\n  var timeoutId;\n\n  var clearTimeout = function clearTimeout() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n  };\n\n  var handleSearchChange = function handleSearchChange(event) {\n    setData(null);\n    setSearchValue(event.target.value);\n\n    if (event.target.value.length > 2) {\n      clearTimeout();\n      setLoading(true); // simulate getting search result\n\n      timeoutId = setTimeout(function () {\n        setData(fakeData);\n        setLoading(false);\n      }, 500);\n    }\n  };\n\n  var clear = function clear() {\n    setData(null);\n    setSearchValue(\"\");\n  };\n\n  useEffect(function () {\n    return function () {\n      clearTimeout();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var uiService = useHtmlClassService();\n  var layoutProps = useMemo(function () {\n    return {\n      offcanvas: objectPath.get(uiService.config, \"extras.search.layout\") === \"offcanvas\"\n    };\n  }, [uiService]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, layoutProps.offcanvas && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"topbar-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn btn-icon btn-clean btn-lg mr-1\",\n    id: \"kt_quick_search_toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"svg-icon svg-icon-xl svg-icon-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  })))), !layoutProps.offcanvas && /*#__PURE__*/React.createElement(Dropdown, {\n    alignRight: true,\n    drop: \"down\",\n    onToggle: function onToggle() {\n      setData(null);\n      setLoading(false);\n      setSearchValue(\"\");\n    },\n    id: \"kt_quick_search_toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    as: DropdownTopbarItemToggler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(OverlayTrigger, {\n    placement: \"bottom\",\n    overlay: /*#__PURE__*/React.createElement(Tooltip, {\n      id: \"search-panel-tooltip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 24\n      }\n    }, \"Quick search\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn btn-icon btn-clean btn-lg btn-dropdown mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"svg-icon svg-icon-xl svg-icon-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-anim-up dropdown-menu-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"kt_quick_search_dropdown\",\n    className: clsx(\"quick-search quick-search-dropdown\", {\n      \"quick-search-has-result\": data && data.length\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"quick-search-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"svg-icon svg-icon-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    autoFocus: true,\n    placeholder: \"Search...\",\n    value: searchValue,\n    onChange: handleSearchChange,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append \".concat(loading ? \"spinner spinner-sm spinner-primary\" : \"\", \"\\\")}\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      display: loading && searchValue && searchValue.length > 0 ? \"none\" : \"flex\"\n    },\n    onClick: clear,\n    className: \"quick-search-close ki ki-close icon-sm text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 23\n    }\n  }))))), /*#__PURE__*/React.createElement(SearchResult, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/zerrinekici/Desktop/adminlast/src/_metronic/layout/components/extras/dropdowns/search/SearchDropdown.js"],"names":["React","useEffect","useState","useMemo","clsx","Dropdown","OverlayTrigger","Tooltip","SVG","objectPath","useHtmlClassService","SearchResult","toAbsoluteUrl","DropdownTopbarItemToggler","fakeData","type","text","description","iconImage","iconClassName","SearchDropdown","loading","setLoading","data","setData","searchValue","setSearchValue","timeoutId","clearTimeout","undefined","handleSearchChange","event","target","value","length","setTimeout","clear","uiService","layoutProps","offcanvas","get","config","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\nimport clsx from \"clsx\";\nimport { Dropdown, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport SVG from \"react-inlinesvg\";\nimport objectPath from \"object-path\";\nimport { useHtmlClassService } from \"../../../../_core/MetronicLayout\";\nimport { SearchResult } from \"./SearchResult\";\nimport { toAbsoluteUrl } from \"../../../../../_helpers\";\nimport { DropdownTopbarItemToggler } from \"../../../../../_partials/dropdowns\";\nconst fakeData = [\n  {\n    type: 0,\n    text: \"Reports\",\n  },\n  {\n    type: 1,\n    text: \"AirPlus Requirements\",\n    description: \"by Grog John\",\n    iconImage: toAbsoluteUrl(\"/media/files/doc.svg\"),\n  },\n  {\n    type: 1,\n    text: \"TechNav Documentation\",\n    description: \"by Mary Brown\",\n    iconImage: toAbsoluteUrl(\"/media/files/pdf.svg\"),\n  },\n  {\n    type: 1,\n    text: \"All Framework Docs\",\n    description: \"by Grog John\",\n    iconImage: toAbsoluteUrl(\"/media/files/zip.svg\"),\n  },\n  {\n    type: 1,\n    text: \"AirPlus Requirements\",\n    description: \"by Tim Hardy\",\n    iconImage: toAbsoluteUrl(\"/media/files/xml.svg\"),\n  },\n  {\n    text: \"Customers\",\n    type: 0,\n  },\n  {\n    type: 1,\n    text: \"Jimmy Curry\",\n    description: \"Software Developer\",\n    iconImage: toAbsoluteUrl(\"/media/users/300_11.jpg\"),\n  },\n  {\n    type: 1,\n    text: \"Milena Gibson\",\n    description: \"UI Designer\",\n    iconImage: toAbsoluteUrl(\"/media/users/300_16.jpg\"),\n  },\n  {\n    type: 1,\n    text: \"Stefan JohnStefan\",\n    description: \"Marketing Manager\",\n    iconImage: toAbsoluteUrl(\"/media/users/300_22.jpg\"),\n  },\n  {\n    type: 1,\n    text: \"Anna Strong\",\n    description: \"Software Developer\",\n    iconImage: toAbsoluteUrl(\"/media/users/300_5.jpg\"),\n  },\n  {\n    type: 0,\n    text: \"Files\",\n  },\n  {\n    type: 1,\n    text: \"2 New items submitted\",\n    description: \"Marketing Manager\",\n    iconClassName: \"flaticon2-box font-danger\",\n  },\n  {\n    type: 1,\n    text: \"79 PSD files generated\",\n    description: \"by Grog John\",\n    iconClassName: \"flaticon-psd font-brand\",\n  },\n  {\n    type: 1,\n    text: \"$2900 worth products sold\",\n    description: \"Total 234 items\",\n    iconClassName: \"flaticon2-supermarket font-warning\",\n  },\n  {\n    type: 1,\n    text: \"4 New items submitted\",\n    description: \"Marketing Manager\",\n    iconClassName: \"flaticon-safe-shield-protection font-info\",\n  },\n];\n\nexport function SearchDropdown() {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [searchValue, setSearchValue] = useState(\"\");\n  let timeoutId;\n\n  const clearTimeout = () => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n  };\n\n  const handleSearchChange = (event) => {\n    setData(null);\n    setSearchValue(event.target.value);\n\n    if (event.target.value.length > 2) {\n      clearTimeout();\n\n      setLoading(true);\n\n      // simulate getting search result\n      timeoutId = setTimeout(() => {\n        setData(fakeData);\n        setLoading(false);\n      }, 500);\n    }\n  };\n\n  const clear = () => {\n    setData(null);\n    setSearchValue(\"\");\n  };\n\n  useEffect(() => {\n    return () => {\n      clearTimeout();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const uiService = useHtmlClassService();\n  const layoutProps = useMemo(() => {\n    return {\n      offcanvas:\n        objectPath.get(uiService.config, \"extras.search.layout\") ===\n        \"offcanvas\",\n    };\n  }, [uiService]);\n\n  return (\n    <>\n      {layoutProps.offcanvas && (\n        <div className=\"topbar-item\">\n          <div\n            className=\"btn btn-icon btn-clean btn-lg mr-1\"\n            id=\"kt_quick_search_toggle\"\n          >\n            <span className=\"svg-icon svg-icon-xl svg-icon-primary\">\n              <SVG src={toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")} />\n            </span>\n          </div>\n        </div>\n      )}\n      {!layoutProps.offcanvas && (\n        <Dropdown\n          alignRight\n          drop=\"down\"\n          onToggle={() => {\n            setData(null);\n            setLoading(false);\n            setSearchValue(\"\");\n          }}\n          id=\"kt_quick_search_toggle\"\n        >\n          <Dropdown.Toggle as={DropdownTopbarItemToggler}>\n            <OverlayTrigger\n              placement=\"bottom\"\n              overlay={<Tooltip id=\"search-panel-tooltip\">Quick search</Tooltip>}\n            >\n              <div className=\"btn btn-icon btn-clean btn-lg btn-dropdown mr-1\">\n                <span className=\"svg-icon svg-icon-xl svg-icon-primary\">\n                  <SVG\n                    src={toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")}\n                  />\n                </span>\n              </div>\n            </OverlayTrigger>\n          </Dropdown.Toggle>\n          <Dropdown.Menu className=\"dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-anim-up dropdown-menu-lg\">\n            <div\n              id=\"kt_quick_search_dropdown\"\n              className={clsx(\"quick-search quick-search-dropdown\", {\n                \"quick-search-has-result\": data && data.length,\n              })}\n            >\n              <form className=\"quick-search-form\">\n                <div className=\"input-group\">\n                  <div className={`input-group-prepend`}>\n                    <span className=\"input-group-text\">\n                      <span className=\"svg-icon svg-icon-lg\">\n                        <SVG\n                          src={toAbsoluteUrl(\n                            \"/media/svg/icons/General/Search.svg\"\n                          )}\n                        />\n                      </span>\n                    </span>\n                  </div>\n                  <input\n                    type=\"text\"\n                    autoFocus={true}\n                    placeholder=\"Search...\"\n                    value={searchValue}\n                    onChange={handleSearchChange}\n                    className=\"form-control\"\n                  />\n\n                  <div\n                    className={`input-group-append ${\n                      loading ? \"spinner spinner-sm spinner-primary\" : \"\"\n                    }\")}`}\n                  >\n                    <span className=\"input-group-text\">\n                      <i\n                        style={{\n                          display:\n                            loading && searchValue && searchValue.length > 0\n                              ? \"none\"\n                              : \"flex\",\n                        }}\n                        onClick={clear}\n                        className=\"quick-search-close ki ki-close icon-sm text-muted\"\n                      />\n                    </span>\n                  </div>\n                </div>\n              </form>\n              <SearchResult data={data} />\n            </div>\n          </Dropdown.Menu>\n        </Dropdown>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}